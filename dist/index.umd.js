!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("fetch-jsonp")):"function"==typeof define&&define.amd?define(["fetch-jsonp"],t):(e||self).easyGistAsync=t(e.fetchJsonp)}(this,function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function i(e,t,n){if(!e.s){if(n instanceof u){if(!n.s)return void(n.o=i.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(i.bind(null,e,t),i.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var o,u=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,o=this.s;if(o){var u=1&o?t:n;if(u){try{i(r,1,u(this.v))}catch(e){i(r,2,e)}return r}return this}return this.o=function(e){try{var o=e.v;1&e.s?i(r,1,t?t(o):o):n?i(r,1,n(o)):i(r,2,o)}catch(e){i(r,2,e)}},r},e}();function f(e){return e instanceof u&&1&e.s}return function(){try{var e=document.querySelectorAll("[data-gist]"),t=function(){if(e){var t=function(e,t,n){if("function"==typeof e[r]){var o,c,s,l=e[r]();if(function e(n){try{for(;!(o=l.next()).done;)if((n=t(o.value))&&n.then){if(!f(n))return void n.then(e,s||(s=i.bind(null,c=new u,2)));n=n.v}c?i(c,1,n):c=n}catch(e){i(c||(c=new u),2,e)}}(),l.return){var a=function(e){try{o.done||l.return()}catch(e){}return e};if(c&&c.then)return c.then(a,function(e){throw a(e)});a()}return c}if(!("length"in e))throw new TypeError("Object is not iterable");for(var h=[],d=0;d<e.length;d++)h.push(e[d]);return function(e,t,n){var r,o,c=-1;return function n(s){try{for(;++c<e.length;)if((s=t(c))&&s.then){if(!f(s))return void s.then(n,o||(o=i.bind(null,r=new u,2)));s=s.v}r?i(r,1,s):r=s}catch(e){i(r||(r=new u),2,e)}}(),r}(h,function(e){return t(h[e])})}(e,function(e){return Promise.resolve(function(e){try{return Promise.resolve(n.default(e)).then(function(e){return Promise.resolve(e.json())})}catch(e){return Promise.reject(e)}}(e.dataset.gist+".json"+(e.dataset.file?"?file="+e.dataset.file:""))).then(function(t){return Promise.resolve(t.div).then(function(n){return e.innerHTML=n,e.classList="gist_embed",Promise.resolve(t.stylesheet).then(function(e){!function(e){if(!o){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,n.media="all",t.appendChild(n),o=!0}}(e)})})})});if(t&&t.then)return t.then(function(){})}}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
